<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>爆氣發聲器</title>
    <style>
        body {
            background-color: #1a1a1a; /* 深色背景比較帥 */
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh; /* 滿版高度 */
            font-family: sans-serif;
            flex-direction: column;
        }

        h1 { margin-bottom: 50px; text-shadow: 0 0 10px #fff; }

        .container {
            display: flex;
            gap: 20px; /* 按鈕之間的距離 */
        }

        /* 按鈕方塊的設計 */
        .pad {
            width: 100px;
            height: 100px;
            border: 2px solid #555;
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.1s; /* 讓變化有過渡效果 */
            background: rgba(255, 255, 255, 0.1);
            user-select: none; /* 防止一直選取到文字 */
        }

        /* 說明文字 */
        .key-hint {
            font-size: 16px;
            color: #aaa;
            margin-top: 5px;
        }

        /* === 按下去的時候要有特效 (class active) === */
        
        /* D 鍵 - 螢光紅 */
        .pad.d.active {
            background-color: #ff4757;
            box-shadow: 0 0 20px #ff4757;
            transform: scale(0.95); /* 按下去稍微縮小 */
            border-color: #ff4757;
        }
        
        /* F 鍵 - 螢光藍 */
        .pad.f.active {
            background-color: #2ed573;
            box-shadow: 0 0 20px #2ed573;
            transform: scale(0.95);
            border-color: #2ed573;
        }

        /* J 鍵 - 螢光黃 */
        .pad.j.active {
            background-color: #eccc68;
            box-shadow: 0 0 20px #eccc68;
            transform: scale(0.95);
            border-color: #eccc68;
        }

        /* K 鍵 - 螢光紫 */
        .pad.k.active {
            background-color: #5352ed;
            box-shadow: 0 0 20px #5352ed;
            transform: scale(0.95);
            border-color: #5352ed;
        }
    </style>
</head>
<body>

    <h1>Web Launchpad (按鍵盤 D F J K)</h1>

    <div class="container">
        <div class="pad d" data-key="68">D</div>
        <div class="pad f" data-key="70">F</div>
        <div class="pad j" data-key="74">J</div>
        <div class="pad k" data-key="75">K</div>
    </div>

    <audio data-key="68" src="痛標 .mp3"></audio>
    <audio data-key="70" src="擺爛的擺爛.mp3"></audio>
    <audio data-key="74" src="爛船都有三分低.mp3"></audio>
    <audio data-key="75" src="都沒再問.mp3"></audio>

    <script>
        // === 1. 定義一個「發出聲音 + 發光」的共用功能 ===
        function playSound(keyCode) {
            // 抓聲音檔
            const audio = document.querySelector(`audio[data-key="${keyCode}"]`);
            // 抓按鈕方塊
            const key = document.querySelector(`.pad[data-key="${keyCode}"]`);

            // 如果找不到對應的聲音，就什麼都不做
            if (!audio) return;

            // 播放聲音 (把時間歸零，這樣才可以連打)
            audio.currentTime = 0;
            audio.play();

            // 加上發光效果
            key.classList.add('active');

            // 設定一個計時器：0.1 秒後自動移除發光 (這樣滑鼠點擊才會有回饋感)
            setTimeout(function() {
                key.classList.remove('active');
            }, 100);
        }


        // === 2. 監聽「鍵盤」按下 (原本的功能) ===
        window.addEventListener('keydown', function(e) {
            playSound(e.keyCode);
        });


        // === 3. 監聽「滑鼠」點擊 (新功能！) ===
        // 先抓出畫面上所有的方塊 (.pad)
        const allPads = document.querySelectorAll('.pad');

        // 幫每一個方塊都加上點擊偵測
        allPads.forEach(function(pad) {
            pad.addEventListener('click', function() {
                // 抓取這個方塊身上藏的代碼 (data-key)
                const keyCode = this.getAttribute('data-key');
                // 呼叫播放功能
                playSound(keyCode);
            });
        });
        
        // (原本的 keyup 移除 active 我們改成用上面的 setTimeout 自動移除了，這樣比較簡單且通用)
    </script>
    </script>

</body>
</html>
